<div class="signup_page_wrapper">
  <div class="signup-wrapper">
    <div class="signup-header">Đổi mật khẩu</div>

    <div class="signup-content">
      <form [formGroup]="changePassFormGroup">
        <div fxFlex>
          <!-- first name Form control -->
         
          <!-- Email form control -->
          <!-- password form control -->
          <mat-slide-toggle #toggle
            >Hiển thị chi tiết quy tắc đặt mật khẩu</mat-slide-toggle
          >
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Mật khẩu cũ</mat-label>
            <mat-pass-toggle-visibility
              #toggleVisibilityPassword
              matSuffix
            ></mat-pass-toggle-visibility>
            <input
              matInput
              #passwordWithValidation
              placeholder="Password"
              [type]="toggleVisibilityPassword.type"
              formControlName="old_password"
            />
            <mat-hint align="end" aria-live="polite">
              {{ passwordWithValidation.value.length }} / 25
            </mat-hint>
          </mat-form-field>
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Mật khẩu mới</mat-label>
            <mat-pass-toggle-visibility
              #toggleVisibilityPassword
              matSuffix
            ></mat-pass-toggle-visibility>
            <input
              matInput
              #passwordWithValidation
              placeholder="Password"
              [type]="toggleVisibilityPassword.type"
              formControlName="new_password"
            />
            <mat-hint align="end" aria-live="polite">
              {{ passwordWithValidation.value.length }} / 25
            </mat-hint>
          </mat-form-field>
          <mat-password-strength
            class="green"
            #passwordComponentWithValidation
            [password]="passwordWithValidation.value"
          >
          </mat-password-strength>
          <!--Password's strength info-->
          <mat-password-strength-info
            *ngIf="this.toggle.checked"
            [passwordComponent]="passwordComponentWithValidation"
            lowerCaseCriteriaMsg="Chứa ít nhất 1 kí tự thường"
            upperCaseCriteriaMsg="Chứa ít nhất 1 kí tự viết hoa"
            digitsCriteriaMsg="Chứa ít nhất 1 kí tự chữ số"
            specialCharsCriteriaMsg="Chứa ít nhất 1 kí tự đặc biệt"
            minCharsCriteriaMsg="Chiều dài nhỏ nhất là 8 kí tự"
          >
          </mat-password-strength-info>
          <!-- confirm password form control -->
          <ng-template [ngIf]="!loading" [ngIfElse]="loadingBtn">
            <div *ngIf="is_error" class="error">{{ error_message }}</div>

            <button
              [disabled]="changePassFormGroup.invalid"
              mat-flat-button
              color="primary"
              (click)="changePass()"
            >
              Đổi mật khẩu
            </button>
          </ng-template>
          <ng-template #loadingBtn>
            <button class="loading" mat-stroked-button>Loading ...</button>
          </ng-template>
        </div>
      </form>
    </div>
  </div>
</div>
