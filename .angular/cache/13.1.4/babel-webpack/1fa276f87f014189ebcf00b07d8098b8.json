{"ast":null,"code":"import { mapToFormData } from '@core/utilities/helpers';\nimport { api_urls } from '@shared/configs/api_url';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/platform-browser\";\n\nfunction TestComponent_video_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 2);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.prev_url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport let TestComponent = /*#__PURE__*/(() => {\n  class TestComponent {\n    constructor(httpClient, sanitizer) {\n      this.httpClient = httpClient;\n      this.sanitizer = sanitizer;\n      this.BASE_URL = api_urls.LOCAL_API_URL;\n    }\n\n    ngOnInit() {}\n\n    changeFile(event) {\n      this.file = event.target.files[0];\n      const formData = mapToFormData({\n        file: this.file\n      });\n      return this.httpClient.post(`${this.BASE_URL}/test/uploadfile`, formData).subscribe(res => {\n        let file_ = res;\n        var URL = window.URL;\n        this.prev_url = this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(file_));\n        console.log(this.prev_url);\n      });\n    }\n\n  }\n\n  TestComponent.ɵfac = function TestComponent_Factory(t) {\n    return new (t || TestComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n  };\n\n  TestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TestComponent,\n    selectors: [[\"app-test\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[\"type\", \"file\", \"name\", \"\", \"id\", \"\", \"text\", \"dads\", 3, \"change\"], [\"style\", \"width:300px; height:300px;\", \"preload\", \"auto\", \"controlslist\", \"nodownload\", \"tabindex\", \"-1\", \"controls\", \"\", 3, \"src\", 4, \"ngIf\"], [\"preload\", \"auto\", \"controlslist\", \"nodownload\", \"tabindex\", \"-1\", \"controls\", \"\", 2, \"width\", \"300px\", \"height\", \"300px\", 3, \"src\"]],\n    template: function TestComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"input\", 0);\n        i0.ɵɵlistener(\"change\", function TestComponent_Template_input_change_0_listener($event) {\n          return ctx.changeFile($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(1, TestComponent_video_1_Template, 1, 1, \"video\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.prev_url);\n      }\n    },\n    styles: [\"\"]\n  });\n  return TestComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}