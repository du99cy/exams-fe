{"ast":null,"code":"import { LoginService } from '@modules/login/services/login.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@modules/login/services/login.service\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/progress-spinner\";\n\nfunction ForgotPasswordComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"Email kh\\u00F4ng h\\u1EE3p l\\u1EC7\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ForgotPasswordComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ForgotPasswordComponent_ng_template_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n\n      const _r0 = i0.ɵɵreference(8);\n\n      return ctx_r5.sendEmail(_r0.value);\n    });\n    i0.ɵɵtext(1, \" G\\u1EEDi \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ForgotPasswordComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 13);\n  }\n}\n\nexport let ForgotPasswordComponent = /*#__PURE__*/(() => {\n  class ForgotPasswordComponent {\n    constructor(dialogRef, loginService) {\n      this.dialogRef = dialogRef;\n      this.loginService = loginService;\n      this.loading = false;\n      this.email_invalid = false;\n    }\n\n    ngOnInit() {}\n\n    sendEmail(email_text) {\n      this.loading = true;\n      const EMAIL_REGEX = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (!email_text.match(EMAIL_REGEX)) {\n        this.email_invalid = true;\n      } else {\n        this.email_invalid = false;\n        this.loginService.forgotPassword(email_text).subscribe(res => {\n          if (res.status_code == 200) {\n            this.loading = false;\n            this.dialogRef.close(); //alert notifacation\n\n            alert(\"Kiểm tra email của bạn\");\n          }\n        }, err => {\n          alert(err.error.detail);\n          this.dialogRef.close();\n        });\n      }\n    }\n\n  }\n\n  ForgotPasswordComponent.ɵfac = function ForgotPasswordComponent_Factory(t) {\n    return new (t || ForgotPasswordComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.LoginService));\n  };\n\n  ForgotPasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ForgotPasswordComponent,\n    selectors: [[\"app-forgot-password\"]],\n    features: [i0.ɵɵProvidersFeature([LoginService])],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"forgot-password-wrapper\"], [\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\"], [\"appearance\", \"outline\", 2, \"width\", \"100%\"], [\"matInput\", \"\", \"type\", \"email\", \"placeholder\", \"Ex:du99cy@gmail.com\", \"required\", \"\"], [\"email_text\", \"\"], [3, \"ngIf\"], [\"mat-dialog-actions\", \"\", \"align\", \"end\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"], [3, \"ngIf\", \"ngIfElse\"], [\"loading_temp\", \"\"], [1, \"email-invalid\"], [\"mat-raised-button\", \"\", \"cdkFocusInitial\", \"\", \"color\", \"primary\", 3, \"click\"], [2, \"width\", \"30px\", \"height\", \"30px\"]],\n    template: function ForgotPasswordComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Qu\\u00EAn m\\u1EADt kh\\u1EA9u ?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"mat-form-field\", 3);\n        i0.ɵɵelementStart(5, \"mat-label\");\n        i0.ɵɵtext(6, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 4, 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, ForgotPasswordComponent_ng_template_9_Template, 2, 0, \"ng-template\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelementStart(11, \"button\", 8);\n        i0.ɵɵtext(12, \"H\\u1EE7y\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, ForgotPasswordComponent_ng_template_13_Template, 2, 0, \"ng-template\", 9);\n        i0.ɵɵtemplate(14, ForgotPasswordComponent_ng_template_14_Template, 1, 0, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(15);\n\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.email_invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading)(\"ngIfElse\", _r3);\n      }\n    },\n    directives: [i1.MatDialogTitle, i1.MatDialogContent, i3.MatFormField, i3.MatLabel, i4.MatInput, i5.NgIf, i1.MatDialogActions, i6.MatButton, i1.MatDialogClose, i7.MatProgressSpinner],\n    styles: [\".forgot-password-wrapper[_ngcontent-%COMP%]   .email-invalid[_ngcontent-%COMP%]{width:100%;padding:20px;background-color:#fcaea0;color:#000;border:1px solid transparent}  .mat-progress-spinner>svg{width:30px!important;height:30px!important}\"]\n  });\n  return ForgotPasswordComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}